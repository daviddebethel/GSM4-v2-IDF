from_module,to_module,interaction_type,evidence
System Orchestrator,Timebase,call,src/main.cpp calls TickGet() in loop at lines 215 and 320 and 869; no direct Platform_getTimeMillis() call found via rg
Timebase,Power and Physical IO,call,src/src/power_handler.cpp power_task uses TickGet() gate (TICK_SECOND*5); src/src/button_handler.cpp button_task uses TickGet() debounce period; src/src/gpio_handler.cpp gpio_task uses TickGet() 10ms scan gate
Timebase,Sensor and Visual UI,call,src/src/imu_handler.cpp imu_task uses TickGet() gate (TickGet()-imu_tick >= TICK_SECOND); src/src/leddisplay_handler.cpp leddisplay_task uses TickGet() gate (TickGet()-flash_tick >= TICK_MILLIS*10)
Power and Physical IO,Config Store,call,src/src/button_handler.cpp button_task calls config_default() then config_write() when WIFI button held for WIFI_BUTTON_DEFAULT_PERIOD
WiFi/Web Control Plane,Config Store,call,12_sliceC_pass6.md C4 `handleConfigUpload` calls `config_write`; 12_sliceC_pass6.md C3 command path calls `config_default`
Config Store,WiFi/Web Control Plane,shared-state,12_sliceC_pass6.md C1 `configReg.*` baseline consumed by C2 `wifi_start_ap` and C3/C4 auth+config handlers
WiFi/Web Control Plane,Power and Physical IO,call,"src/src/wifi_handler.cpp handle_command_requests(action=""setup_advan"") sets configReg.battery_chargerate then calls power_set_chargerate(configReg.battery_chargerate)"
WiFi/Web Control Plane,Power and Physical IO,shared-state,"src/src/wifi_handler.cpp handle_command_requests(action=""gpio_on""/""gpio_off"") writes gpio_controls.io1_control/io2_control and sets generalFlags.gpio_update_request; src/main.cpp loop consumes gpio_update_request and calls gpio_update()"
WiFi/Web Control Plane,Modem Core,call,12_sliceC_pass6.md C3 calls `modem_sim_switch_guard_start`; 12_sliceB_pass6.md C1 dispatches modem control requests
Power and Physical IO,Modem Core,shared-state,src/src/button_handler.cpp button_task sets generalFlags.modem_reboot_request; src/src/modem_handler.cpp modem_task checks and clears generalFlags.modem_reboot_request
WiFi/Web Control Plane,Sensor and Visual UI,shared-state,src/src/wifi_handler.cpp writes statusReg.flags.wifi_server_started in wifi_start_ap()/wifi_stop_ap() and statusReg.flags.wifi_update_in_progress in handleDoUpdate(); src/src/leddisplay_handler.cpp leddisplay_task branches on both flags
Modem Core,Sensor and Visual UI,shared-state,src/src/modem_handler.cpp updates statusReg.flags.modem_registered/modem_no_sim/sms_command_processed/call_volte_active; src/src/leddisplay_handler.cpp leddisplay_task reads these flags for LED color/flash decisions
Modem Core,WiFi/Web Control Plane,shared-state,12_sliceB_pass6.md C2 writes `statusReg.modem_signal_level` and registration flags; 12_sliceC_pass6.md C4 `handleValuesXML` emits these fields
Config Store,Audio Runtime,shared-state,src/src/file_handler.cpp config_default and config_read populate configReg audio fields; src/main.cpp uses configReg.mimic_volume and configReg.announcement_volume and configReg.ringer_volume in audio_set_volume; src/main.cpp mimic_dial uses configReg.mimic_dtmf_tone_period and configReg.mimic_dtmf_intertone_period
WiFi/Web Control Plane,Audio Runtime,shared-state,src/src/wifi_handler.cpp handle_command_requests and apply_config_from_json write configReg.mimic_volume and configReg.handset_modem_speaker_volume and configReg.handsfree_modem_speaker_volume; src/main.cpp consumes configReg.mimic_volume and src/src/audio_handler.cpp uses configReg.telephone_operating_mode in audio_test_task
Modem Core,Audio Runtime,shared-state,src/src/modem_handler.cpp audio_test_tone_start and audio_test_cleanup write statusReg.audio_test_tone_tick and statusReg.flags.audio_test_tone_active; src/src/audio_handler.cpp audio_test_task reads both while waiting for tone start
Audio Runtime,Modem Core,shared-state,src/src/audio_handler.cpp audio_test_task writes generalFlags.audio_test_tone_start_request; src/src/modem_handler.cpp modem_task consumes audio_test_tone_start_request and runs audio_test_tone_start
In-call DTMF Control,Audio Runtime,call,src/src/dtmf_handler.cpp dtmf_decode_task calls ds4420_mute and ds4420_set_gain implemented in src/src/audio_handler.cpp
In-call DTMF Control,Power and Physical IO,call,src/src/dtmf_handler.cpp dtmf_decode_task writes gpio_controls.load_control then calls gpio_update(); dtmf_decode_task is invoked from src/main.cpp loop in IDLE_RUN and ONHOOK flows
Serial Transport,Modem Core,event,12_sliceB_pass6.md C3 `serial_run` invokes registered callback `state->callback(...)`; 12_sliceB_pass6.md C2 callback pipeline handles inbound modem payloads
Modem Core,Serial Transport,call,"12_sliceB_pass6.md C3 evidence: transport created in modem init via `serial_transport_create(&hwSerial, ...)`"
Modem Core,Config Store,shared-state,12_sliceB_pass6.md C4 notes normalization writes caller-owned `configReg.voice_no*`/`configReg.sms_user*`; 12_sliceC_pass6.md C1 persists `configReg.*`
Config Store,Power and Physical IO,shared-state,src/src/file_handler.cpp config_read/config_default load configReg.battery_low_level and configReg.battery_chargerate; src/src/power_handler.cpp power_task and power_set_config read both fields
Config Store,Sensor and Visual UI,shared-state,"src/src/file_handler.cpp config_read/config_default populate configReg.status_led_brightness, configReg.flags.led_board_status_enabled, configReg.flags.imu_enabled, configReg.imu_tip_threshold; src/src/leddisplay_handler.cpp and src/src/imu_handler.cpp consume these fields"
System Orchestrator,Modem Core,call,src/main.cpp creates `modem_thread` via `xTaskCreate` and `modem_thread()` calls `modem_task()` in its loop
Modem Core,Timebase,call,src/src/modem_handler.cpp calls `TickGet()` in `modem_task` and `sms_task` and `gps_task` timing gates
System Orchestrator,WiFi/Web Control Plane,call,src/main.cpp `loop()` calls `wifi_start_ap()` and `wifi_check_client_timeouts()` and `wifi_stop_ap()` during RUN mode WiFi lifecycle
System Orchestrator,Config Store,call,src/main.cpp loop PREINIT_GO calls config_init then config_read or config_default plus config_write; loop periodic branch calls config_write when generalFlags.config_changed
Modem Core,Config Store,call,src/src/modem_handler.cpp sms_apply_esim calls config_write; sms_apply_esim is called from sms_decode inside modem_task modem_thread flow
System Orchestrator,Audio Runtime,call,src/main.cpp xTaskCreate creates audio_thread and audio_thread calls audio_task in a while true loop; src/main.cpp loop calls audio_playback and audio_set_volume and audio_dtmf and audio_dtmf_stop
Audio Runtime,Timebase,call,src/src/audio_handler.cpp dtmf_task and audio_test_task use TickGet timing gates for tone duration and test windows
System Orchestrator,Power and Physical IO,call,"src/main.cpp loop() directly calls power_task(), adc_task(), gpio_task(), and button_task() each iteration"
System Orchestrator,Sensor and Visual UI,call,"src/main.cpp loop() directly calls leddisplay_task() and imu_task(); loop state-machine branches call tft_init(), tft_logo(), and tft_message()"
System Orchestrator,In-call DTMF Control,call,src/main.cpp loop calls dtmf_decode_task in IDLE_RUN at line 885 and in submode_task at line 2635
Modem Core,In-call DTMF Control,shared-state,src/src/modem_handler.cpp modem_decode writes statusReg.modem_response=ATRQTONEDET and statusReg.modem_dtmf_digit; src/src/dtmf_handler.cpp dtmf_decode_task reads and clears statusReg.modem_response
In-call DTMF Control,Timebase,call,src/src/dtmf_handler.cpp dtmf_decode_task calls TickGet at lines 75 and 189 for timeout gating
